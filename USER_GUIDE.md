# 경주봇 사용 가이드

> 텔레그램에서 메시지를 보내면 AI가 여행 일정을 관리해주는 봇입니다.

---

## 한 줄 요약

**텔레그램 채팅창에 자연어로 말하면, AI(포저)가 알아서 여행 일정을 조회하거나 수정합니다.**

---

## 어떻게 동작하는 건가요?

### 전체 흐름

```
나 (텔레그램 메시지)
  → VPS 서버의 봇이 메시지를 받음
    → AI(포저)가 내용을 이해하고 판단
      → 일정 데이터를 조회하거나 수정
        → 텔레그램으로 답변이 옴
          → 가족 웹앱에도 자동 반영 (30초 이내)
```

### 핵심 포인트

- **코드를 건드리는 게 아닙니다.** 봇의 프로그램 코드는 그대로이고, 여행 일정 데이터(JSON)만 읽고 씁니다.
- 일정 데이터는 jsonbin.io라는 클라우드 저장소에 있고, 봇과 웹앱이 같은 데이터를 바라봅니다.
- 봇을 통해 일정을 수정하면 가족 웹앱에도 자동으로 반영됩니다.

---

## "클로드 코드"를 직접 제어하는 건가요?

**아닙니다.** 정확히 말하면 이렇습니다:

| 개념 | 설명 |
|------|------|
| **Claude Code** | 개발자(죠죠)가 코드를 짤 때 쓰는 AI 도구. 텔레그램 봇과는 별개 |
| **Anthropic API** | Claude의 두뇌를 빌려 쓸 수 있는 통로 |
| **포저 (봇)** | Anthropic API를 통해 Claude의 두뇌로 동작하는 여행 전용 비서 |

텔레그램 메시지를 보내면:
1. 봇 프로그램이 메시지를 받습니다
2. Anthropic API를 통해 Claude에게 "이 사람이 이런 말을 했는데, 어떻게 할까?" 물어봅니다
3. Claude가 미리 정의된 13개 도구 중 필요한 것을 골라서 실행합니다
4. 결과를 텔레그램으로 보내줍니다

즉, Claude Code(개발 도구)를 제어하는 게 아니라, **Claude의 AI 두뇌를 API로 호출**하는 것입니다.
텔레그램 봇은 이 AI에게 "여행 일정 관련 작업만 할 수 있는 도구 13개"를 쥐여준 상태이므로,
임의로 코드를 수정하거나 서버를 조작하는 일은 일어나지 않습니다.

---

## 뭘 할 수 있나요?

### 일정 조회 (데이터 변경 없음)

| 이렇게 말하면 | 포저가 하는 일 |
|--------------|---------------|
| "오늘 일정 알려줘" | 오늘 날짜의 전체 일정을 보여줌 |
| "내일 점심 뭐 있어?" | 해당 일차의 식사 항목을 찾아서 옵션과 함께 안내 |
| "아버지한테 괜찮은 저녁?" | 당뇨 관리에 적합한(dad: good) 저녁 옵션을 추천 |
| "히로가 먹을 수 있는 데 있어?" | 밀/계란 알러지 안전한(hiro: good) 옵션을 검색 |
| "전체 일정 요약해줘" | 6일간의 진행 상황 (완료/예정/건너뜀) 요약 |
| "불국사 정보 알려줘" | 해당 항목의 상세 정보 (시간, 옵션, 메모 등) |

### 일정 수정 (데이터가 변경됨 → 웹앱에도 반영)

| 이렇게 말하면 | 포저가 하는 일 |
|--------------|---------------|
| "대릉원 다녀왔어" | 해당 항목의 상태를 "완료"로 변경 |
| "교촌마을 패스" | 해당 항목의 상태를 "건너뜀"으로 변경 |
| "점심 복길로 확정" | 점심 항목의 선택을 "복길"로 확정 |
| "불국사 주차 무료였어" | 해당 항목에 메모 추가 |
| "내일 오후 3시에 카페 추가해줘" | 새로운 일정 항목 생성 |
| "대릉원을 3일차로 옮겨줘" | 항목을 다른 날짜로 이동 |

### 할 수 없는 것

- 봇의 프로그램 코드를 수정하는 것
- 여행 일정과 관계없는 작업 (파일 다운로드, 웹 검색 등)
- 웹앱의 디자인을 변경하는 것
- 다른 사람의 메시지를 보거나 보내는 것

---

## 사용 팁

### 자연어로 편하게
정해진 명령어 형식이 없습니다. 평소 말하듯이 쓰면 됩니다.

```
(O) "내일 점심 복길로 확정해줘"
(O) "점심 복길"
(O) "2일차 점심을 복길로 바꿔줘"
→ 셋 다 같은 결과
```

### 구체적일수록 정확
```
(좋음) "2일차 저녁 반월성한우로 확정"
(보통) "저녁 확정해줘"  ← 어떤 날, 어떤 식당인지 다시 물어볼 수 있음
```

### 봇 명령어
- `/start` — 봇 소개 메시지
- `/today` — "오늘 일정 알려줘"의 단축키

---

## 포저는 누구?

봇의 AI 캐릭터 이름입니다. 단순한 일정 안내가 아니라, 가족 상황을 고려해서 판단해주는 여행 보좌관 역할을 합니다.

- 사용자를 "죠죠"로 부릅니다
- 존댓말을 쓰되 딱딱하지 않은 톤
- 아버지 당뇨, 히로 알러지를 항상 고려해서 답변
- 이모지를 쓰지 않습니다

---

## 자주 묻는 질문

### Q: 메시지를 잘못 보내서 일정이 이상하게 바뀌면?
A: 다시 메시지를 보내서 수정할 수 있습니다. (예: "대릉원 아직 안 갔어" → 상태를 다시 "예정"으로 복원)

### Q: 봇이 응답을 안 하면?
A: VPS 서버가 재시작 중이거나 네트워크 문제일 수 있습니다. 잠시 후 다시 시도하거나 죠죠에게 알려주세요.

### Q: 웹앱에 바로 반영이 안 되는 것 같아요
A: 웹앱은 30초마다 데이터를 새로 가져옵니다. 최대 30초 정도 기다리면 반영됩니다.

### Q: 나도 텔레그램에서 사용할 수 있나요?
A: 현재는 허용된 사용자(죠죠)만 사용 가능합니다. 추가하려면 텔레그램 사용자 ID를 등록해야 합니다.
