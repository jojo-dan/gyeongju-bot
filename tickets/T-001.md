# T-001 [S-001] (P0) (AI) 웹앱 지도 뷰 + 관리 기능 제거

**Status**: MERGED (Code PR #1 merged 2026-02-11, Closeout 대기)

**work_type**: CODE

**done_rule**:
- Code PR merge + Closeout PR merge(오너) = DONE

---

## Goal

웹앱에서 지도 뷰(카카오맵 렌더링)와 관리(편집) 기능을 제거하여
"일정만 보는" 단순한 뷰어로 만든다. 카카오 SDK는 Places API용으로 유지한다.

---

## Acceptance Criteria

- [x] 지도 관련 UI 완전 제거 (지도 버튼, 지도 컨테이너, 마커, 폴리라인)
- [x] 관리 관련 UI 완전 제거 (관리 버튼, PIN 모달, 편집 컨트롤, 저장 기능)
- [x] 미커밋 거리 코드는 제거 (T-003에서 기획 후 재구현)
- [x] 카카오 SDK `<script>` 태그는 유지 (Places API용)
- [x] 하단 바 정리 (불필요한 버튼 모두 제거)
- [ ] Vercel 로컬 미리보기에서 일정 뷰가 정상 렌더링 → 오너 검증 필요
- [ ] 에러 없이 데이터 로드 및 일별 탭 전환 동작 → 오너 검증 필요

---

## Notes

- 오너 피드백 문서: `briefing/reviewed/GYEONGJU_BOT_FEEDBACK.md` 항목 #2
- 현재 `webapp/index.html`에 미커밋 거리 배지 CSS + 위치 버튼이 있음 → T-001에서 함께 정리
- `MAP_FEATURE_PLAN.md`(루트)는 더 이상 필요 없으나, 기록 보존 차원에서 `docs/`로 이동

---

## Plan

### 변경 파일
- `webapp/index.html` — 지도/관리/거리 관련 CSS·HTML·JS 제거
- `MAP_FEATURE_PLAN.md` → `docs/MAP_FEATURE_PLAN.md` 이동 (기록 보존)

### 검증 방법
1. `webapp/index.html`을 브라우저에서 열어 일정 뷰 정상 렌더링 확인
2. 지도 버튼·관리 버튼·PIN 모달이 없는지 확인
3. 일별 탭 전환, 스크롤, 자동 새로고침 정상 동작 확인
4. 콘솔 에러 없음 확인

### 리스크 & 롤백
- Risk: 거리 관련 코드와 일정 렌더링 코드가 얽혀있을 경우 렌더링 깨짐
- Rollback: `git checkout -- webapp/index.html`로 즉시 복원 가능

---

## Review Pack (READY_FOR_REVIEW)

- Release impact: minor

### Scope
웹앱(`webapp/index.html`)에서 지도 뷰·관리 기능·거리 표시 코드를 전면 제거.
일정 조회 전용 뷰어로 단순화. 카카오 SDK `<script>` 태그만 유지.

### Changed files
- `webapp/index.html` — 1660행 → 726행 (934행 제거, ~56% 축소)
- `MAP_FEATURE_PLAN.md` → `docs/MAP_FEATURE_PLAN.md` (이동)
- `STORIES.md`, `TASKS.md` — 인덱스 업데이트
- `stories/S-001.md`, `tickets/T-001.md` — SSOT 신규 생성

### 제거된 항목
| 기능 | CSS | HTML | JS |
|------|-----|------|----|
| 지도 뷰 | `.map-container`, `.map-screen` 등 7개 클래스 | `#mapBtn` | `toggleMapView`, `renderMapView`, `initKakaoMap`, `drawMarkers` 등 8개 함수 + 변수 6개 |
| 관리 모드 | `.admin-bar`, `.edit-controls`, `.modal` 등 12개 클래스 | `#adminBtn`, `#adminStatus`, `#pinModal` | `toggleAdmin`, `checkPin`, `saveData`, `renderEditControls` 등 6개 함수 + `ADMIN_PIN` |
| 거리/위치 | `.distance-badge`, `.loc-btn-active` 등 6개 클래스 | `#locBtn` | `toggleLocation`, `haversineDistance`, `updateDistanceBadges` 등 10개 함수 + 변수 5개 |

### How to verify
1. `https://gyeongju-trip.vercel.app` 또는 로컬 미리보기에서 접속
2. 확인 사항:
   - 일정 카드가 정상 렌더링되는가
   - 일별 탭 전환이 동작하는가
   - 하단에 지도/관리/위치 버튼이 없는가
   - 브라우저 콘솔에 JS 에러가 없는가
3. PR diff에서 카카오 SDK `<script>` 태그가 유지되어 있는가

### Self-check results
- [x] 지도/관리/거리 관련 키워드 grep 검증: 0건 (완전 제거 확인)
- [x] 카카오 SDK 태그 유지 확인
- [x] body padding-bottom 제거 (하단 바 없으므로)
- [x] 일정 렌더링 로직 보존 확인 (fetchData → render → renderDayContent → renderItemCard)

## Evidence

- 변경 전: 1660행 (지도 뷰, 관리 모드, 거리 표시, PIN 모달 포함)
- 변경 후: 726행 (일정 조회 전용)
- grep 검증: `admin`, `toggleMap`, `saveData`, `haversine`, `SKIP_KEYWORDS` — 모두 0건
- 카카오 SDK `<script>` 태그: line 15에 유지
- PR: 커밋 후 생성 예정

## Risks & rollback

- Risk: API 엔드포인트(`/api/save`)가 남아있으나 프론트에서 호출하지 않음 → T-002(코드 검토)에서 정리 판단
- Rollback: `git checkout main -- webapp/index.html`로 즉시 복원
